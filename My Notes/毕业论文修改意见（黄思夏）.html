<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 5.6.2 (450946)"/><meta name="altitude" content="42.58078002929688"/><meta name="author" content="Leask Wong"/><meta name="created" content="2014-04-03 15:26:20 +0000"/><meta name="latitude" content="22.7706193258861"/><meta name="longitude" content="114.2973715084289"/><meta name="updated" content="2014-04-03 15:26:20 +0000"/><title>毕业论文修改意见（黄思夏）</title></head><body>
这两章是重点，首先跟你说说我的思路，若你觉得可行，而且没有背离你们的初衷，希望你们能采纳我的建议。若你们觉得有问题，要及时与我沟通和商量，也就剩三天的时间了。
<div>第三章，我觉得你应该写公交查询系统该如何设计，跟采用什么开发语言，什么数据库软件，什么地方的地图数据都无关，你介绍的是设计方法。所以，我觉得你应该从以下几个方面去写：（1）系统的总体设计什么。（2）数据库该怎么样设计（包含那些实体，实体之间的关系如何，ER图怎么描述，在关系数据库里又怎么描述，其实也就是表结构是什么）。（3）系统查询时查询的算法设计是怎样的（最好给出算法流程图）。（4）系统的界面设计怎样</div>
<div>第四章，是用一个具体的例子去实现第三章提出来的设计方案，第三章是方法，第四章是方法的应用。所以这部分就是描述你以深圳市地图数据为例进行开发的公交查询系统。在这里才开始介绍你所做的系统。所以内容应包括：（1）具体采用的数据是什么。（2）采用的什么开发语言，什么数据库软件。（3）将各种公交路线、站点数据入库后的数据，也就是具体的access数据。（4）系统运行的效果图。这个部分要多截图，把各个功能的图都截一个下来。</div>
<div>第五章就是总结和建议。首先说明论文的主要贡献和创新点。有创新点就写，没有就不写。然后再说明还存在哪些问题。</div>
<div>最后，关于第一二章，我会向相关领导咨询下，到底前面的内容能不能写一样的。事实上，你们愿意多查查中国期刊网，要改成不一样的内容也很简单。不过，你先着重改好第三、四章。希望你下次发过来的版本，能调整好格式，按我发给你们的格式要求。</div>
<div><br/></div>
<div><br/></div>
<div>以下是我大致给的一个框架</div>
<div><br/></div>
<div>第三章 公交线路查询系统的设计</div>
<div>3.1. 系统的总体设计</div>
<div>（不能只有这一个图，要配有相关的文字说明）</div>
<div><br/></div>
<div>3.2. 公交线路查询系统的数据库设计</div>
<div><br/></div>
<div>先介绍该系统有什么什么的需求，引出要描述的对象有公交路线、站点。在介绍这两个实体之间有什么联系，用ER图化出来。</div>
<div><br/></div>
<div>公交路线</div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div>起始站点</div>
<div>终止站点</div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div>我只是大概画了一下，告诉你ER大概是什么样子的，可能还有其他的实体。同时你还要展开公交路线实体有什么属性，用椭圆来表示。</div>
<div>把上面得到的ER图转化为逻辑数据模型，以关系数据库来表示，如下所示。</div>
<div>Line_Info(列1，列2，。。。)</div>
<div>Location_Info(列1，列2，。。。)</div>
<div>。。。</div>
<div>对应的表结构如下所示：（也就是你下面几个表结构）</div>
<div><br/></div>
<div>这部分内容，对梁来说要详细描述，对你来说，可以简单点写。写时要注意前后语句的衔接，最好先用文字进行说明，再配有图。</div>
<div><br/></div>
<div><br/></div>
<div>根据系统功能的具体需求，我们一共设计了四个数据表，分别为：Line_Info、Locations_Info、Stations_Info和Temp_Shed四个数据表。下文将详细解析每个数据表以及数据表中每个字段的数据意义。</div>
<div><br/></div>
<div>3.2.1 数据表：Line_Info</div>
<div>数据表Line_Info是公交线路的数据库，也是整个系统的核心数据库。其中包含公交编号、站点、路线、所属公交公司、站点地理位置等相关信息。</div>
<div><br/></div>
<div>字段名称</div>
<div>数据类型</div>
<div>描述</div>
<div>Line_Num</div>
<div>String(文本)</div>
<div>公交线路编号</div>
<div>Terminal_Begin</div>
<div>String(文本)</div>
<div>起点站点</div>
<div>Terminal_End</div>
<div>String(文本)</div>
<div>终点站点</div>
<div>Stations_Up_Going</div>
<div>Comment(备注)</div>
<div>上行途径的站点</div>
<div>Stations_Down_Going</div>
<div>Comment(备注)</div>
<div>下行途径的站点</div>
<div>Company</div>
<div>String(文本)</div>
<div>所属公车公司</div>
<div>Path_ICED</div>
<div>Boolean(布尔)</div>
<div>是否包含导航坐标</div>
<div>Path_Up_Going</div>
<div>Comment(备注)</div>
<div>上行导航坐标</div>
<div>Path_Down_Going</div>
<div>Comment(备注)</div>
<div>下行导航坐标</div>
<div>Roads_Up_Going</div>
<div>String(文本)</div>
<div>上行途径的路段</div>
<div>Roads_Down_Going</div>
<div>String(文本)</div>
<div>下行途径的路段</div>
<div><br/></div>
<div>     •     要点一：现实生活中的很多公交线路的上下行途径站点是不同的，为了更加贴近现实我们在数据库设计的时候把上行和下行的站点、路段和导航坐标进行独立的处理，以便程序识别运算返回更有参考价值的结果。</div>
<div>     •     要点二：结合计算机程序开发的特点，导航坐标为平面位图的相对坐标，以（X，Y）的形式存储，在实际输出的时候由程序运算转会为经纬度坐标。</div>
<div>     •     要点三：上下行路线的途径站点和导航数据的间隔我们在数据库中用符号“&gt;”表示。在程序处理的时候我们再把逐句字符串以“&gt;”分割存在数组中。</div>
<div><br/></div>
<div>4.2.2数据表： Locations_Info</div>
<div>Locations_Info数据表中包含的数据是地名的坐标数据。这个数据表目前主要用于供用户查找地图上的各种地点，包括建筑物、公园、商业区、学校、医院等，这个数据表同时也是为软件日后的广告创收做准备的。如果这个项目持续开发下去的话，这个数据库中会包括各种商家、消费场所等等的地理位置信息，这一方面方便了用户安排出行的消费食宿，同时也为商家投放广告做了底层技术的准备。</div>
<div><br/></div>
<div>字段名称</div>
<div>数据类型</div>
<div>描述</div>
<div>Location</div>
<div>String(文本)</div>
<div>地点名称</div>
<div>Position_X</div>
<div>Long(长整数)</div>
<div>横坐标，X</div>
<div>Position_Y</div>
<div>Long(长整数)</div>
<div>纵坐标，Y</div>
<div>Information</div>
<div>Comment(备注)</div>
<div>预留给商家的广告信息项目</div>
<div>Image</div>
<div>String(文本)</div>
<div>建筑物图片（URL地址）</div>
<div><br/></div>
<div>存储地理位置的信息同时也方便了用户查找自己身处地和目的地附件的建筑物和地理形式，方便找到上车车站和下车后迅速找到目的地。</div>
<div><br/></div>
<div>3.2.3 数据表Stations_Info</div>
<div>数据表Stations_Info储存的是公车站点在地图上的位置信息。</div>
<div><br/></div>
<div>字段名称</div>
<div>数据类型</div>
<div>描述</div>
<div>Station_Name</div>
<div>String(文本)</div>
<div>站点名称</div>
<div>Position_X</div>
<div>Long(长整数)</div>
<div>横坐标，X</div>
<div>Position_Y</div>
<div>Long(长整数)</div>
<div>纵坐标，Y</div>
<div><br/></div>
<div>开发此数据库的目标有两个，第一是和Locations_Info表关联，找出距离某一特定地点最近的公交车站点。第二是对车站名进行索引，有利于提高用户在进行模糊查询时系统运行的速度，例如：用户输入“紫薇”时，程序就不必搜索所有公交车线路的所有站点，只需要查找Stations_Info表就能马上在备选栏下显示“紫薇花园、紫薇步行街、紫薇阁、紫薇花园步行街”等相关结果，为用户的查询带来便利，提升用户体验水平。</div>
<div><br/></div>
<div>3.2.4数据表Temp_Shed</div>
<div>数据表Temp_Shed保存的是查询缓存。引入这个表的目的是对用户的搜索进行记录。因为换乘的查询需要较长的时间才能返回结果，这一般需要2~10秒，这样的等待时间是不理想的。因此我们把程序设计成当用户第一次查询某一路线的时候把运算结果缓存到这个表中，当用户再次查询这些数据的时候就能够跳过最耗时的换乘查询而直接在这个表中查出路线了。这样能做到瞬间返回复杂的查询结果，而不需要每次都让用户苦苦等待。</div>
<div><br/></div>
<div>St_A</div>
<div>String(文本)</div>
<div>查询的起点</div>
<div>St_B</div>
<div>String(文本)</div>
<div>查询的终点</div>
<div>Line_CH</div>
<div>Boolean(布尔)</div>
<div>是否有换乘</div>
<div>Line_A</div>
<div>String(文本)</div>
<div>换乘前的线路</div>
<div>Line_B</div>
<div>String(文本)</div>
<div>换乘后的线路</div>
<div>Line_A_Sts</div>
<div>Comment(备注)</div>
<div>换乘前经过的站点</div>
<div>Line_B_Sts</div>
<div>Comment(备注)</div>
<div>换乘后经过的站点</div>
<div>Line_A_Path</div>
<div>Comment(备注)</div>
<div>换乘前的线路坐标</div>
<div>Line_B_Path</div>
<div>Comment(备注)</div>
<div>换乘后的线路坐标</div>
<div>Line_Long</div>
<div>Single(单精度浮点数)</div>
<div>总的乘坐里程</div>
<div><br/></div>
<div>这个表的引入是十分有必要的，尤其是当这个项目衍生出在线版本的时候，A用户的查询有很大可能为日后B、C、D……用户的查询生成缓存。也就是说，不同查询的次数越多程序的运算速度就越快。</div>
<div>3.3. 公交线路查询系统的查询算法设计</div>
<div>3.3.1查询算法的基本思想</div>
<div>假设乘客欲从“A点乘公交车去B点 ，根据人们的出行习惯，首先检索出 A站是否有直达B站公交车。如果有直达线路， 则马上选择直达公交车。如果存在不止一条直达线路， 则根据行程最短、沿途站点数最少、最快到达，选择最佳乘车方案；如果没有直达线路，则考虑换乘一次车的方案：即经过A站的车与经过B站的车有没有交叉点C，如果有，则可以选择在C处转车到达B站；如果经过A、B站的公交路线路没有交叉点，则要考虑先乘坐经过A站的某一路车到某一C站，再看经过C站点的车与经过B站点的公交车是否有交叉点D如果有就再到D站转车，两次转车可到达终点B站；如果没有，则需要转乘三次或三次以上才可到达目的地。在上述情况中，如果存在不止一种的选择方案，则再考虑行程最短、沿途站点数最少、最快到达，选择最佳的乘车方案。在本次开发中，由于用户的查询程序和数据库都放在本机，并没有速度快、性能可靠的服务器电脑。考虑到用户等待时间的体验，而且一般情况下直接到达和一次换乘已经可解决很多实际而问题，再者两次以上换乘的实际意义不大，用户普遍觉得过多的换乘带来很大不便。所以在这次开发的案例当中，我们以搜索直接到达和一次换乘的结果并进行优化排序。力求让用户得到最便捷快速的方案。</div>
<div><br/></div>
<div><br/></div>
<div>3.3.2查询算法的研究基础：</div>
<div><br/></div>
<div>在公交查询系统中，查询包括两方面的内容：公交信息查询和公交线路查询。公交信息查询主要查询公交站点和线路的属性信息，如经过某站点的所有公交线路、指定公交线路相关信息(始发车站、终点站、所属公司、途径路段、途径站点、导航坐标信息)等。公交线路查询则需要在公交数据建模的基础上。通过公交网络最短路径算法来实现。</div>
<div>目前最短路径搜索算法研究很多，其中1959年迪杰斯特拉（Dijkstra）提出的单源问题算法是使用最广的适合拓扑网络中两节点间最短路径搜索的算法之一。 它不仅求出从始点到终点的最短路径，而且最后所得到的实际上是始点到各顶点的最短路径。Dijkstra最短路径算法由于其稳定性，能适应网络拓扑的变化，同时对系统的内存空间占用少， 因而在计算机网络拓扑路径选择以及GIS中得到广泛的应用。但是Dijkstra算法是按路径长度递增的次序产生最短路径，凡是到源点的最短路径长度少于目标路径长度的顶点都会被搜索到。 显然它并不完全适合大型公交路网的实时计算。如果在搜索过程中能够优先考虑靠近终点方向的顶点，即使用启发式搜索，则可减少算法搜索空间 。并大大提高搜索效率。[4]</div>
<div>目前在关于路径优化问题最流行的启发式搜索算法是A*算法。该算法在选择下一个被检查的节点时。对当前节点距离终点的长度进行估计。评价其处于最优路径上的可能性量度．这样就可以首先搜索可能性大的节点，达到提高搜索效率的目的。</div>
<div><br/></div>
<div>3.3.3查询算法的具体实现：</div>
<div>第一步：获得用户期望的起点站点为：St_A(字符串)；终点站点为：St_B(字符串)。</div>
<div><br/></div>
<div>第二步：定义规范化方案数组Result_Arr(a,b)为字符串数组。a、b为整数，如1、2、3……。a代表方案的序号，b代表方案的属性，b的属性设置如下：</div>
<div><br/></div>
<div><br/></div>
<div>b=0</div>
<div>查询的起点</div>
<div>b=1</div>
<div>查询的终点</div>
<div>b=2</div>
<div>是否有换乘</div>
<div>b=3</div>
<div>换乘前的线路</div>
<div>b=4</div>
<div>换乘后的线路</div>
<div>b=5</div>
<div>换乘前经过的站点</div>
<div>b=6</div>
<div>换乘后经过的站点</div>
<div>b=7</div>
<div>换乘前的线路坐标</div>
<div>b=8</div>
<div>换乘后的线路坐标</div>
<div>b=9</div>
<div>总的乘坐里程</div>
<div><br/></div>
<div>如：Result_Arr(5,3)=”329”，表示第5种方案是先乘坐329路公交车。</div>
<div><br/></div>
<div>第三步：直接用SQL查询出可以直接到达的结果（顺序匹配St_A和St_B的记录集）。如果存在，记录结果的细节到Result_Arr()数组。如果该路线存在地理位置信息，则通过地理位置信息计算路线的长度，并将结果存入Result_Arr()数组；</div>
<div><br/></div>
<div>第四步：定义Line_Colt (c) 为字符串数组，c为整数，如1、2、3……。</div>
<div>SQL查询得到经过St_A站点的所有公交线路并放入Line_Colt (c)数组中，c为经过St_A站点的公交数量；</div>
<div><br/></div>
<div>第五步（这一步是换乘算法的核心）：定义Result_Arr_A(d)为字符串数组，d为整数，如1、2、3……。作c次循环运算，循环变量为i，i=0 to c。每次循环开始时Result_Arr_A()数组的每个元素被赋值为第i条经过St_A站点的公交路线的每个站点。然后用SQL语言查询顺序经过Result_Arr_A(i)和St_B的公交路线，如果查询有结果返回，就构成一个换乘方案。该路线为在St_A站上车，在Result_Arr_A(i)站换乘，在St_B站下车并到达目的地的路线。和第二步一样，把线路方案存入结果数组Result_Arr()。</div>
<div><br/></div>
<div>第六步：用结果数组Result_Arr(x,9)的值对结果数组Result_Arr()中的每个元素排序，得到最短路径。</div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div>3.4. 公交线路查询系统的界面设计</div>
<div>介绍系统的界面是什么样子的。仅仅只是界面的说明，要配有图片说明</div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<div>第四章 公交线路查询系统的实现</div>
<div>先说明，是以深圳市的公交数据为例，开发了公交查询线路查询系统。（因为你的图是深圳市的，所以要先说明），并介绍说是采用什么开发技术进行开发的。也就是采用什么数据库软件（accesss），什么开发语言。这里是总结性介绍，下面是具体分个介绍</div>
<div>4.1. 数据准备</div>
<div>可以放上深圳市的地图，还有公交路线数据</div>
<div>4.2. 系统核心开发技术</div>
<div>3.2.1 Visual Basic语言</div>
<div>Visual Basic（VB）是一种由微软公司开发的包含协助开发环境的事件驱动编程语言。从任何标准来说，VB都是丠界上使用人数最多的语言——不仅是盠赞VB的开发者还是抱怨VB的开发者的数颃。它源自于BASIC编程语言。VB拥有图形用户界面（GUI）和快速应用程序开发（RAD）系统，可以轻易的使用DAO、RDO、ADO连接数据库，或者轻松的创建ActiveX控件。程序员可以轻松的使用VB提供的组仠快速建立一个应用程序。</div>
<div>3.2.2 Microsoft Access关系数据库</div>
<div>Access 是微软公司推出的基于Windows的桌面关系数据库管理系统（RDBMS），是Office系列应用软件之一。它提供了表、查询、窗体、报表、页、宏、模块7种用来建立数据库系统的对象；提供了多种向导、生成器、模板，把数据存储、数据查询、界面设计、报表生成等操作规范化；为建立功能完善的数据库管理系统提供了方便，也使得普通用户不必编写代码，就可以完成大部分数据管理的任务。</div>
<div>Access是一种关系型数据库管理系统，其主要特点如下：</div>
<div>3.2.1存储方式单一</div>
<div>Access管理的对象有表、查询、窗体、报表、页、宏和模块，以上对象都存放在后缀为（.mdb）的数据库文件种，便于用户的操作和管理。</div>
<div>3.2.2面向对象</div>
<div>Access是一个面向对象的开发工具，利用面向对象的方式将数据库系统中的各种功能对象化，将数据库管理的各种功能封装在各类对象中。它将一个应用系统当作是由一系列对象组成的，对每个对象它都定义一组方法和属性，以定义该对象的行为和外国，用户还可以按需要给对象扩展方法和属性。通过对象的方法、属性完成数据库的操作和管理，极大地简化了用户的开发工作。同时，这种基于面向对象的开发方式，使得开发应用程序更为简便。</div>
<div>3.2.3 界面友好、易操作</div>
<div>Access是一个可视化工具，是风格与Windows完全一样，用户想要生成对象并应用，只要使用鼠标进行拖放即可，非常直观方便。系统还提供了表生成器、查询生成器、报表设计器以及数据库向导、表向导、查询向导、窗体向导、报表向导等工具，使得操作简便，容易使用和掌握。</div>
<div>3.2.4 集成环境、处理多种数据信息</div>
<div>Access基于Windows操作系统下的集成开发环境，该环境集成了各种向导和生成器工具，极大地提高了开发人员的工作效率，使得建立数据库、创建表、设计用户界面、设计数据查询、报表打印等可以方便有序地进行。</div>
<div>3.2.5 Access支持ODBC（开发数据库互连，Open Data Base Connectivity），利用Access强大的DDE（动态数据交换）和OLE（对象的联接和嵌入）特性，可以在一个数据表中嵌入位图、声音、Excel表格、Word文档，还可以建立动态的数据库报表和窗体等。Access还可以将程序应用于网络，并与网络上的动态数据相联接。利用数据库访问页对象生成HTML文件，轻松构建Internet/Intranet的应用。</div>
<div><br/></div>
<div>3.3 介绍SQL结构化查询语言</div>
<div>SQL是英文Structured Query Language的缩写，意思为结构化查询语言。SQL语言的主要功能就是同各种数据库建立联系，进行沟通。按照ANSI(美国国家标准协会)的规定，SQL被作为关系型数据库管理系统的标准语言。SQL语句可以用来执行各种各样的操作，例如更新数据库中的数据，从数据库中提取数据等。目前，绝大多数流行的关系型数据库管理系统，如Oracle, Sybase, Microsoft SQL Server, Access等都采用了SQL语言标准。虽然很多数据库都对SQL语句进行了再开发和扩展，但是包括Select, Insert, Update, Delete, Create,以及Drop在内的标准的SQL命令仍然可以被用来完成几乎所有的数据库操作。</div>
<div>4.3. 系统数据库</div>
<div>将access表放上来，是含有数据的表，不是表结构啊，在第三章设计出表结构，这里就对应的给出深圳市公交数据的access数据。</div>
<div>4.4. 系统实现结果图</div>
<div>通过截图的方法把结果图放上来。你文章的前两章就说明了要实现的功能，那么在这里就相应的给出效果图。</div>
<div>比如，点击了什么按钮，系统运行出什么结果，把系统运行的结果图放上来，多放点都可以。</div>
<div><br/></div>
<div><br/></div>
</body></html>